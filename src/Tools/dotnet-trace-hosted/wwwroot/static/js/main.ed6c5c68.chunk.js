(window["webpackJsonpdotnet-trace-ui"]=window["webpackJsonpdotnet-trace-ui"]||[]).push([[0],{10:function(e,t,r){e.exports=r(18)},15:function(e,t,r){},17:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(9),c=r.n(s),o=(r(15),r(1)),i=r.n(o),l=r(2),u=r(3),p=r(4),f=r(6),h=r(5),d=r(7),y=(r(17),function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).handleRefresh=function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),t.stopPropagation(),r.props.refreshProcessAsync();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,r=0;return void 0===this.props.processArray||0===this.props.processArray.length?e=a.a.createElement("div",null,"There is no .NET Core processes."):(r=this.props.processArray.length,e=this.props.processArray.map(function(e,r){return a.a.createElement("div",{key:r},a.a.createElement("span",null,e.id),"-",a.a.createElement("span",null,e.name),"-",a.a.createElement("span",null,e.mainModule),a.a.createElement("input",{type:"button",value:"Start Profiling",onClick:function(){console.debug("Start Profiling for session: ".concat(e.id)),t.props.startProfilingAsync(e.id)}}))})),a.a.createElement("div",null,a.a.createElement("h2",null,"Process (",r,")"),e,a.a.createElement("input",{type:"button",onClick:this.handleRefresh,value:"Refresh"}))}}]),t}(n.Component)),m=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,r=0;return void 0===this.props.traceSessions||0===this.props.traceSessions.length?e=a.a.createElement("div",null,"There's no trace sessions."):(r=this.props.traceSessions.length,e=a.a.createElement("div",null,this.props.traceSessions.map(function(e,r){return a.a.createElement("div",{key:r},a.a.createElement("span",null,"ProcessId:"),a.a.createElement("span",null,e.processId),"\xa0",a.a.createElement("span",null,"SessionId:"),a.a.createElement("span",null,e.sessionId),"\xa0",a.a.createElement("input",{type:"button",value:"Stop Profiling",onClick:function(){console.debug("Stopping profiler: ".concat(e.processId,":").concat(e.sessionId)),t.props.stopProfilingAsync(e.processId,e.sessionId)}}))}))),a.a.createElement("div",null,a.a.createElement("h2",null,"Trace Sessions (",r,")"),e,a.a.createElement("input",{type:"button",value:"Refresh",onClick:this.props.loadTraceSessionsAsync}))}}]),t}(n.PureComponent),v=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,r=0;return void 0===this.props.fileArray||0===this.props.fileArray.length?e=a.a.createElement("div",null,"There's no trace file."):(r=this.props.fileArray.length,e=a.a.createElement("div",null,this.props.fileArray.sort(function(e,t){return e.fileName>t.fileName?-1:1}).map(function(e,r){return a.a.createElement("div",{key:r},a.a.createElement("a",{href:"".concat(t.props.baseUrl,"/TraceFiles/").concat(e.fileName)},e.fileName),a.a.createElement("input",{type:"button",value:"Upload to SP Backend",onClick:function(){return alert("Not implemented: ".concat(e.fileName))}}))}))),a.a.createElement("div",null,a.a.createElement("h2",null,"Trace Files (",r,")"),e,a.a.createElement("input",{type:"button",value:"Refresh",onClick:Object(l.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.loadTraceFilesAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}))}}]),t}(n.PureComponent),b=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(f.a)(this,Object(h.a)(t).call(this,e))).BaseUrl="http://localhost:9400",r.initializeAsync=Object(l.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.loadProcessesAsync(),r.loadTraceSessionsAsync(),r.loadTraceFilesAsync()]);case 2:r.setState({isReady:!0});case 3:case"end":return e.stop()}},e)})),r.loadProcessesAsync=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getProcessesAsync();case 3:t=e.sent,r.setState({processArray:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.setState({processArray:void 0});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),r.getProcessesAsync=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(r.BaseUrl,"/processes"));case 2:if(!(t=e.sent)||!t.ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}},e)})),r.startProfilingAsync=function(){var e=Object(l.a)(i.a.mark(function e(t){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(r.BaseUrl,"/traces"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({processId:t})});case 2:if(n=e.sent,!(a=!!n&&n.ok)){e.next=7;break}return e.next=7,r.loadTraceSessionsAsync();case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.stopProfilingAsync=function(){var e=Object(l.a)(i.a.mark(function e(t,n){var a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(r.BaseUrl,"/traces/").concat(t,"?sessionId=").concat(n),{method:"DELETE"});case 2:if(a=e.sent,!(s=!!a&&a.ok)){e.next=7;break}return e.next=7,Promise.all([r.loadTraceSessionsAsync(),r.loadTraceFilesAsync()]);case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),r.loadTraceSessionsAsync=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getTraceSessionsAsync();case 3:t=e.sent,r.setState({traceSessionArray:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.setState({traceSessionArray:void 0});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),r.getTraceSessionsAsync=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(r.BaseUrl,"/sessions"));case 2:if(!(t=e.sent)||!t.ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}},e)})),r.loadTraceFilesAsync=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getTraceFilesAsync();case 3:t=e.sent,r.setState({traceFileArray:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.setState({traceFileArray:void 0});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),r.getTraceFilesAsync=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(r.BaseUrl,"/traceFiles"));case 2:if(!(t=e.sent)||!t.ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}},e)})),r.state={processArray:void 0,traceSessionArray:void 0,traceFileArray:void 0,isReady:!1},r.initializeAsync(),r}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.isReady?a.a.createElement("div",null,a.a.createElement("h1",null,".NET Core Profiling Console"),a.a.createElement(y,{refreshProcessAsync:this.loadProcessesAsync,startProfilingAsync:this.startProfilingAsync,processArray:this.state.processArray}),a.a.createElement(m,{traceSessions:this.state.traceSessionArray,stopProfilingAsync:this.stopProfilingAsync,loadTraceSessionsAsync:this.loadTraceSessionsAsync}),a.a.createElement(v,{baseUrl:this.BaseUrl,loadTraceFilesAsync:this.loadTraceFilesAsync,fileArray:this.state.traceFileArray})):null}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.ed6c5c68.chunk.js.map